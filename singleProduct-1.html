<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://kit.fontawesome.com/4781840b9b.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./flipcart.css">
    <title>Home Page</title>

</head>

<body>
    <nav>
        <div class="logo">
            <img src="https://static-assets-web.flixcart.com/fk-p-linchpin-web/fk-cp-zion/img/flipkart-plus_8d85f4.png"
                alt="">
            <p>Flipcart <span>Plus</span></p>

        </div>
        <input type="text" placeholder="Search product & more.">
        <i class="fa-solid fa-magnifying-glass"></i>


        <div class="nav-info">
            <div id="switch">
                <p><small>ACCOUNT</small></p>
            </div>
            <div>
                <p>Become a seller</p>
            </div>
            <div>
                <p>More</p>
            </div>
            <div>

                <p>Add to Cart</p>
            </div>







            <div id="logout"></div>
        </div>


    </nav>
    <div class="nav2">
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/29327f40e9c4d26b.png?q=100" alt="">
            <p style="display: flex;">Geocery</p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/22fddf3c7da4c4f4.png?q=100" alt="">
            <p style="display: flex;">Mobile</p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/0d75b34f7d8fbcb3.png?q=100" alt="">
            <p style="display: flex;">Fashion<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/69c6589653afdb9a.png?q=100" alt="">
            <p style="display: flex;">Electronics<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/ab7e2b022a4587dd.jpg?q=100" alt="">
            <p style="display: flex;">Home<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/0ff199d1bd27eb98.png?q=100" alt="">
            <p style="display: flex;">Appliances<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/71050627a56b4693.png?q=100" alt="">
            <p style="display: flex;">Travel<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/f15c02bfeb02d15d.png?q=100" alt="">
            <p style="display: flex;">Top Offers<i class="fa-solid fa-chevron-down"></i></p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/flap/128/128/image/dff3f7adcf3a90c6.png?q=100" alt="">
            <p style="display: flex;">Beauty, Toys</p>
        </div>
        <div>
            <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/05d708653beff580.png?q=100" alt="">
            <p style="display: flex;">Two Wheelers<i class="fa-solid fa-chevron-down"></i></p>
        </div>
    </div>

    <!-- <ul>
        <li>
            <a>Top Offers<i class="fa-solid fa-chevron-down"></i></a>
            <a>Geocery<i class="fa-solid fa-chevron-down"></i></a>
            <a>Womens<i class="fa-solid fa-chevron-down"></i></a>
            <a>Mens<i class="fa-solid fa-chevron-down"></i></a>
            <a>Electronics<i class="fa-solid fa-chevron-down"></i></a>
            <a>Fashion<i class="fa-solid fa-chevron-down"></i></a>
            <a>Home<i class="fa-solid fa-chevron-down"></i></a>
            <a>Beauty<i class="fa-solid fa-chevron-down"></i></a>
            <a>Appliences<i class="fa-solid fa-chevron-down"></i></a>
        </li>
    </ul> -->

    <img src="https://rukminim1.flixcart.com/fk-p-flap/844/140/image/1176cec8a9974c97.jpg?q=50" alt="">


    <div id="singleproduct">
        <div id="product">
            <div id="left">
                <img src="" />
                <div id="cart">
                    <button><i class="fa-solid fa-bag-shopping"></i>ADD TO BAG</button>
                    <button><i class="fa-regular fa-heart"></i>BUY NOW</button>
                </div>
            </div>
            <div id="right">
                <h1>Lenovo 23.8 inch Full HD VA Panel 3-Side Near Edgeless with TUV Eye Care Monitor (D24-20) </h1>

                <!-- <p> (Finish Color - Deep Teal Delivery Condition - DIY(Do-It-Yourself))</p> -->

                <p><b>4.2 <i class="fa-solid fa-star"></i></b>| 4.8k Ratings</p>

                <p>₹</p>
                <h3>Coupons for you</h3>
                <p>Partner Offer Buy</p>
                <h3>Available Offers</h3>
                <p>Special PriceGet extra ₹9410 off (price inclusive of cashback/coupon)T&C</p>
                <p>Bank OfferFlat ₹1250 Discount on HDFC Bank Credit Card EMI Transactions on orders of ₹15,000 and
                    aboveT&C
                </p>
                <p>100% Original Products</p>
                <p>Pay on delivery might be available</p>
                <p>Easy 10 days returns and exchanges</p>
                <!-- <div id="">
                    <h1>DELIVERY OPTIONS<i class="fa-solid fa-truck"></i></h1>
                    <input placeholder="Enter pincode" />
                    <p>Please enter PIN code to check delivery time & Pay on Delivery Availability</p>
                    
                </div> -->

            </div>
        </div>
    </div>

    <script>
        window.onload = function () {
            // alert("working")
            var currentUser = JSON.parse(localStorage.getItem("FlipcartCurrentUser"))
            // console.log(currentUser,"current user");
            if (!!currentUser) {
                // alert(currenUser,"username")
                var logoutDiv = document.getElementById("logout")
                var divfromHtml = document.getElementById("switch");
                // console.log(divfromHtml, "divfromhtml");
                // var h1=document.createElement("h1");

                // divfromHtml.append(h1)
                // var button = '<button onclick="logout()">Logout</button>'
                var button = '<span class="lgbtn-wrap"><i class="fa-solid fa-arrow-right-from-bracket id=logout-icon"></i> <button onclick="logout()" class="logout-button-txt">Logout</button></span>'
                var name = `<h1>${currentUser.userName}</h1>`;
                divfromHtml.innerHTML = name;
                logoutDiv.innerHTML = button;
            }
            //  else {
            //     alert("current user absent")
            // }












            var product = JSON.parse(localStorage.getItem("current-product"))
            console.log(product);
            var divappend = document.getElementById("singleproduct");
            var structure = ` <div id="product">
            <div id="left">
                <img src="${product.proImage}"/>
                <div id="cart">
                    <button onclick='addCart(${JSON.stringify(product)})'><i class="fa-solid fa-bag-shopping"></i>ADD TO BAG</button>
                    <button><i class="fa-regular fa-heart"></i>BUY NOW</button>
                </div>
            </div>
            <div id="right">
                <h1>${product.proName} </h1>
                <p>Monitor</p>
            

              

                <p><b>4.2 <i class="fa-solid fa-star"></i></b>| 4.8k Ratings</p>

                <p>${product.proPrice}</p>
                <h3>Available offers/h3>
                <p>Partner Offer Buy</p>
                <h3>Available Offers</h3>
                <p>Flat ₹1250  Discount on HDFC Bank Credit Card EMI Transactions on orders of ₹15,000 and above</p><br/>
                <p>Bank Offer Flat ₹1250 Discount on HDFC Bank Credit Card EMI Transactions on orders of ₹15,000 and aboveT&C
                </p><br/>
                <p>Bank Offer Flat ₹4000  Discount on HDFC Bank Credit Card EMI Transactions on orders of ₹50,000 and above</p><br/>
                <p>Bank Offer 10% off on IndusInd Bank Credit Card EMI Transactions, up to ₹1,500 on orders of ₹7,500 and above</p><br/>
                <p>Bank OfferSign up for Flipkart Pay Later and get Flipkart Gift Card worth up to ₹500*</p>
               
               
            </div>
    </div>
            `;
            console.log(structure, "here");
            divappend.innerHTML = structure;
        }
        function addCart(product) {
            alert("Adding to cart")
            var currentUser = JSON.parse(localStorage.getItem("FlipcartCurrentUser"));
            var userData = JSON.parse(localStorage.getItem("FlipcartUsers"));
            var flagforUser = false;
            for (var i = 0; i < userData.length; i++) {
                if (currentUser.userEmail === userData[i].userEmail) {
                    if (userData[i].cartProducts == undefined) {
                        userData[i].cartProducts = [product];
                    } else {
                        userData[i].cartProducts.push(product);

                    }
                    alert("product added to cart")
                    window.location.href = './Cart.html'
                }
            }
            localStorage.setItem("FlipcartUsers", JSON.stringify(userData));
        }

        function logout() {
            alert("Logout successful.")
            localStorage.removeItem("FlipcartCurrentUser")
            window.location.reload()


        }

    </script>
</body>

</html>